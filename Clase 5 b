{"cells":[{"cell_type":"markdown","metadata":{"id":"Ika9qVKHBeYu"},"source":["<img src=\"https://i.imgur.com/6U6q5jQ.png\"/>"]},{"cell_type":"markdown","metadata":{"id":"3-CvaORDBeYv"},"source":["# Data Cleaning in Python"]},{"cell_type":"markdown","metadata":{"id":"emQZYiLLBeYw"},"source":["The data we have collected may have several issues we need to identify:\n","\n","* Are there missing values? How are they represented?\n","* Is the format of the table ready to be analyzed? Are there other elements not relevant but distracting or likely to confuse our work?\n","* Is every cell well written? are there characters that may not allow future analysis?\n","\n","Let's check some data:"]},{"cell_type":"code","execution_count":97,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"niGinL5LBeYw","executionInfo":{"status":"ok","timestamp":1707233952083,"user_tz":300,"elapsed":1725,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"5370b3a2-c9f3-4c17-8ef0-5e5221176631"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["2"]},"metadata":{},"execution_count":97}],"source":["import pandas as pd\n","\n","wikiLink=\"https://en.wikipedia.org/wiki/List_of_freedom_indices\"\n","freedomDFs=pd.read_html(wikiLink, flavor='bs4',attrs={'class':'wikitable sortable'})\n","len(freedomDFs)"]},{"cell_type":"markdown","metadata":{"id":"WRdK0UZ_BeYw"},"source":["Let's keep the first one:"]},{"cell_type":"code","execution_count":98,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"ezoWXqvUBeYw","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":29,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"11af950a-6708-4fe6-87a6-03d4ae76e6ea"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["   Country Freedom in the World 2023[13] Score  \\\n","0   Norway                          free   100   \n","1  Ireland                          free    97   \n","2   Sweden                          free   100   \n","3  Finland                          free   100   \n","4  Denmark                          free    97   \n","\n","  Index of Economic Freedom 2023[14] Score.1 Press Freedom Index 2023[3]  \\\n","0                        mostly free    76.9                        good   \n","1                               free      82                        good   \n","2                        mostly free    77.5                        good   \n","3                        mostly free    77.1                        good   \n","4                        mostly free    77.6                        good   \n","\n","  Score.2 Democracy Index 2023[9] Score.3  \n","0   95.18          full democracy    9.81  \n","1   89.91          full democracy    9.05  \n","2   88.15          full democracy    9.26  \n","3   87.94          full democracy     9.2  \n","4   89.48          full democracy    9.15  "],"text/html":["\n","  <div id=\"df-aa79b053-b5a2-4428-a5bf-bc583fa33f12\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country</th>\n","      <th>Freedom in the World 2023[13]</th>\n","      <th>Score</th>\n","      <th>Index of Economic Freedom 2023[14]</th>\n","      <th>Score.1</th>\n","      <th>Press Freedom Index 2023[3]</th>\n","      <th>Score.2</th>\n","      <th>Democracy Index 2023[9]</th>\n","      <th>Score.3</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Norway</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>76.9</td>\n","      <td>good</td>\n","      <td>95.18</td>\n","      <td>full democracy</td>\n","      <td>9.81</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Ireland</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>free</td>\n","      <td>82</td>\n","      <td>good</td>\n","      <td>89.91</td>\n","      <td>full democracy</td>\n","      <td>9.05</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Sweden</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.5</td>\n","      <td>good</td>\n","      <td>88.15</td>\n","      <td>full democracy</td>\n","      <td>9.26</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Finland</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.1</td>\n","      <td>good</td>\n","      <td>87.94</td>\n","      <td>full democracy</td>\n","      <td>9.2</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Denmark</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>mostly free</td>\n","      <td>77.6</td>\n","      <td>good</td>\n","      <td>89.48</td>\n","      <td>full democracy</td>\n","      <td>9.15</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-aa79b053-b5a2-4428-a5bf-bc583fa33f12')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-aa79b053-b5a2-4428-a5bf-bc583fa33f12 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-aa79b053-b5a2-4428-a5bf-bc583fa33f12');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-8ded6750-652e-4242-86cc-8ff70693dd6f\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-8ded6750-652e-4242-86cc-8ff70693dd6f')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-8ded6750-652e-4242-86cc-8ff70693dd6f button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":98}],"source":["freedom=freedomDFs[0].copy()\n","freedom.head()"]},{"cell_type":"markdown","metadata":{"id":"LtSR4-fTBeYw"},"source":["## 1. Clean headers"]},{"cell_type":"code","execution_count":99,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Uv9H1gdlBeYw","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":27,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"768452a5-972b-40e4-8ddf-292e3a82912b"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Index(['Country', 'Freedom in the World 2023[13]', 'Score',\n","       'Index of Economic Freedom 2023[14]', 'Score.1',\n","       'Press Freedom Index 2023[3]', 'Score.2', 'Democracy Index 2023[9]',\n","       'Score.3'],\n","      dtype='object')"]},"metadata":{},"execution_count":99}],"source":["# check headers\n","freedom.columns"]},{"cell_type":"markdown","metadata":{"id":"i1vJCfoGBeYx"},"source":["Cleaning requires a strategy. In the strings above your main problem is the footnotes and the quasi-duplicates."]},{"cell_type":"code","execution_count":100,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"wzl2jRbkBeYx","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":25,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"2cd6e38b-9d65-426f-9ea6-cf1688d408c7"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Index(['Score', 'Score.1', 'Score.2', 'Score.3'], dtype='object')"]},"metadata":{},"execution_count":100}],"source":["# the quasi duplicates\n","ScoreColumns=freedom.columns[freedom.columns.str.contains('Scor')]\n","ScoreColumns"]},{"cell_type":"code","execution_count":101,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"lCYkZ-KtBeYx","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":23,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"2cf8fc1c-e71a-4acd-9f2b-3d939a6d49b9"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Index(['Country', 'Freedom in the World 2023[13]',\n","       'Index of Economic Freedom 2023[14]', 'Press Freedom Index 2023[3]',\n","       'Democracy Index 2023[9]'],\n","      dtype='object')"]},"metadata":{},"execution_count":101}],"source":["# the not quasi duplicates\n","freedom.columns[~freedom.columns.str.contains('Scor')]"]},{"cell_type":"code","execution_count":102,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"u1BVZ1yUBeYx","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":22,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"89706e63-57cd-4df6-e3a0-74a52242191e"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Index(['Freedom in the World 2023[13]', 'Index of Economic Freedom 2023[14]',\n","       'Press Freedom Index 2023[3]', 'Democracy Index 2023[9]'],\n","      dtype='object')"]},"metadata":{},"execution_count":102}],"source":["# save the last one but the first one:\n","notScoreColumns=freedom.columns[~freedom.columns.str.contains('Scor')][1:]\n","notScoreColumns"]},{"cell_type":"markdown","metadata":{"id":"jGA_XT-ZBeYx"},"source":["Let's keep the last ones without the footnotes, let's _divide and conquer_ using **split()**:"]},{"cell_type":"code","execution_count":103,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"XnCm_PhhBeYx","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":21,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"1280bb95-9c50-4f54-8087-b427bc808484"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["[['Freedom in the World 2023', '13]'],\n"," ['Index of Economic Freedom 2023', '14]'],\n"," ['Press Freedom Index 2023', '3]'],\n"," ['Democracy Index 2023', '9]']]"]},"metadata":{},"execution_count":103}],"source":["# using list comprehension\n","[element.split('[') for element in notScoreColumns]"]},{"cell_type":"markdown","metadata":{"id":"RDMzbwanBeYx"},"source":["You see how I split each element, but the resulting list is not what you want, you need to keep the first element only:"]},{"cell_type":"code","execution_count":104,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"9fHyw53IBeYx","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":19,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"1faccb49-3ffc-4fc6-8e26-34a870659a5e"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Freedom in the World 2023',\n"," 'Index of Economic Freedom 2023',\n"," 'Press Freedom Index 2023',\n"," 'Democracy Index 2023']"]},"metadata":{},"execution_count":104}],"source":["# keeping first element [0]\n","[element.split('[')[0] for element in notScoreColumns]"]},{"cell_type":"markdown","metadata":{"id":"z-ZJKGESBeYx"},"source":["This is not bad at all. However, a more efficient alternative is using **regular expressions**. There are books about this topic, but I will share some patterns that may prove useful.\n","\n","In this situation, I want to:\n","\n","* Get rid of footnotes.\n","* Get rid of the years.\n","\n","Let's see:"]},{"cell_type":"code","execution_count":105,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"-WKSzZIuBeYx","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":18,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"a924e298-df7f-43b8-8b98-aec670576546"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Freedom in the World',\n"," 'Index of Economic Freedom',\n"," 'Press Freedom Index',\n"," 'Democracy Index']"]},"metadata":{},"execution_count":105}],"source":["import re  # a package to use regular expressions.\n","\n","# one or more consecutive number \\\\d+\n","# anything that looks like \\\\[\\\\w+\\\\]\n","# using '|' as or\n","# using .strip() for unwanted spaces\n","\n","pattern='\\\\d+|\\\\[\\\\w+\\\\]'\n","nothing=''\n","\n","#substitute the 'pattern' by 'nothing':\n","[re.sub(pattern,nothing,element).strip() for element in notScoreColumns]"]},{"cell_type":"code","execution_count":106,"metadata":{"id":"AyfPGqIzBeYy","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":17,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}}},"outputs":[],"source":["#save result\n","notScoreColumnsCleaner=[re.sub(pattern,nothing,element).strip() for element in notScoreColumns]"]},{"cell_type":"markdown","metadata":{"id":"N59tlOaZBeYy"},"source":["Let's create acronyms:"]},{"cell_type":"code","execution_count":107,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ZPb_qRxeBeYy","executionInfo":{"status":"ok","timestamp":1707233952084,"user_tz":300,"elapsed":17,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"c5e2d7a3-da14-41c8-c7b0-7fdb157f4fef"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["[['Freedom', 'in', 'the', 'World'],\n"," ['Index', 'of', 'Economic', 'Freedom'],\n"," ['Press', 'Freedom', 'Index'],\n"," ['Democracy', 'Index']]"]},"metadata":{},"execution_count":107}],"source":["# split into list words\n","[nameCol.split() for nameCol in notScoreColumnsCleaner]"]},{"cell_type":"code","execution_count":108,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"oR57mBNhBeYy","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":16,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"86e317ac-2392-4ff7-ae26-81022bdb99b0"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["[['F', 'i', 't', 'W'], ['I', 'o', 'E', 'F'], ['P', 'F', 'I'], ['D', 'I']]"]},"metadata":{},"execution_count":108}],"source":["# first letter of each word as list\n","[[letter[0] for letter in nameCol.split()] for nameCol in notScoreColumnsCleaner]"]},{"cell_type":"code","execution_count":109,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"aDjJ1ShvBeYy","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":15,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"5e05bc0a-354d-4d1f-8a54-30da7628024d"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['FitW', 'IoEF', 'PFI', 'DI']"]},"metadata":{},"execution_count":109}],"source":["# concatenate first letters in each list\n","[\"\".join([letter[0] for letter in nameCol.split()]) for nameCol in notScoreColumnsCleaner]"]},{"cell_type":"markdown","metadata":{"id":"MiKi9WSDBeYy"},"source":["We saved the acronyms:"]},{"cell_type":"code","execution_count":110,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"J6aqv_6cBeYy","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":14,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"791bfa99-651f-426e-bffd-fa86903917ac"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['FitW', 'IoEF', 'PFI', 'DI']"]},"metadata":{},"execution_count":110}],"source":["acronyms=[\"\".join([letter[0] for letter in nameCol.split()]) for nameCol in notScoreColumnsCleaner]\n","acronyms"]},{"cell_type":"markdown","metadata":{"id":"1a-4OQJABeYy"},"source":["We concatenate \"score\" to the acronyms into another list:"]},{"cell_type":"code","execution_count":111,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"QLi-SWz8BeYy","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":13,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"10187724-5363-4e10-f81b-2b5a1929d498"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['FitW_score', 'IoEF_score', 'PFI_score', 'DI_score']"]},"metadata":{},"execution_count":111}],"source":["acronyms_score=[acro+'_score' for acro in acronyms]\n","acronyms_score"]},{"cell_type":"markdown","metadata":{"id":"RrBs2wX0BeYy"},"source":["Let's rename:"]},{"cell_type":"code","execution_count":112,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"DjS70CtVBeYy","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":12,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"43b44c28-3b67-4a04-e92e-0ad2fae75f7a"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'Score': 'FitW_score',\n"," 'Score.1': 'IoEF_score',\n"," 'Score.2': 'PFI_score',\n"," 'Score.3': 'DI_score'}"]},"metadata":{},"execution_count":112}],"source":["change={old:new for old,new in zip(ScoreColumns,acronyms_score)}\n","change"]},{"cell_type":"code","execution_count":113,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"jDgOO2_ZBeYy","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":11,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"29b59016-a905-4405-94a2-e3a18be7eb23"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'Freedom in the World 2023[13]': 'FitW',\n"," 'Index of Economic Freedom 2023[14]': 'IoEF',\n"," 'Press Freedom Index 2023[3]': 'PFI',\n"," 'Democracy Index 2023[9]': 'DI'}"]},"metadata":{},"execution_count":113}],"source":["change2={old:new for old,new in zip(notScoreColumns,acronyms)}\n","change2"]},{"cell_type":"code","execution_count":114,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"u54lj-6IBeYz","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":11,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"3ac7b4af-b589-4e57-f20b-c3c80258c35a"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'Score': 'FitW_score',\n"," 'Score.1': 'IoEF_score',\n"," 'Score.2': 'PFI_score',\n"," 'Score.3': 'DI_score',\n"," 'Freedom in the World 2023[13]': 'FitW',\n"," 'Index of Economic Freedom 2023[14]': 'IoEF',\n"," 'Press Freedom Index 2023[3]': 'PFI',\n"," 'Democracy Index 2023[9]': 'DI'}"]},"metadata":{},"execution_count":114}],"source":["change.update(change2)\n","change"]},{"cell_type":"code","execution_count":115,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"yEz5nNTpBeYz","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":10,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"25cfdf6b-0ed4-4e25-8d14-ee89433bbfc0"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["   Country  FitW FitW_score         IoEF IoEF_score   PFI PFI_score  \\\n","0   Norway  free        100  mostly free       76.9  good     95.18   \n","1  Ireland  free         97         free         82  good     89.91   \n","2   Sweden  free        100  mostly free       77.5  good     88.15   \n","3  Finland  free        100  mostly free       77.1  good     87.94   \n","4  Denmark  free         97  mostly free       77.6  good     89.48   \n","\n","               DI DI_score  \n","0  full democracy     9.81  \n","1  full democracy     9.05  \n","2  full democracy     9.26  \n","3  full democracy      9.2  \n","4  full democracy     9.15  "],"text/html":["\n","  <div id=\"df-770d630d-7e75-4bb9-92c9-ae1b9d9d589c\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country</th>\n","      <th>FitW</th>\n","      <th>FitW_score</th>\n","      <th>IoEF</th>\n","      <th>IoEF_score</th>\n","      <th>PFI</th>\n","      <th>PFI_score</th>\n","      <th>DI</th>\n","      <th>DI_score</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Norway</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>76.9</td>\n","      <td>good</td>\n","      <td>95.18</td>\n","      <td>full democracy</td>\n","      <td>9.81</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Ireland</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>free</td>\n","      <td>82</td>\n","      <td>good</td>\n","      <td>89.91</td>\n","      <td>full democracy</td>\n","      <td>9.05</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Sweden</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.5</td>\n","      <td>good</td>\n","      <td>88.15</td>\n","      <td>full democracy</td>\n","      <td>9.26</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Finland</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.1</td>\n","      <td>good</td>\n","      <td>87.94</td>\n","      <td>full democracy</td>\n","      <td>9.2</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Denmark</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>mostly free</td>\n","      <td>77.6</td>\n","      <td>good</td>\n","      <td>89.48</td>\n","      <td>full democracy</td>\n","      <td>9.15</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-770d630d-7e75-4bb9-92c9-ae1b9d9d589c')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-770d630d-7e75-4bb9-92c9-ae1b9d9d589c button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-770d630d-7e75-4bb9-92c9-ae1b9d9d589c');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-576ecf1a-9c5e-482f-a978-7e3e2a33857d\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-576ecf1a-9c5e-482f-a978-7e3e2a33857d')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-576ecf1a-9c5e-482f-a978-7e3e2a33857d button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":115}],"source":["freedom.rename(columns=change,inplace=True)\n","freedom.head()"]},{"cell_type":"markdown","metadata":{"id":"VLo8jNCEBeYz"},"source":["## 2. Clean the data values.\n","\n","Since there are categories, we could try some frequency tables:"]},{"cell_type":"code","execution_count":116,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"CKM45IjQBeYz","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":9,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"fd3b0831-fbfa-40a5-93da-289feb51dbc4"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["free           84\n","not free       57\n","partly free    55\n","NaN             1\n","Name: FitW, dtype: int64"]},"metadata":{},"execution_count":116}],"source":["freedom.FitW.value_counts(dropna=False).sort_index()"]},{"cell_type":"code","execution_count":117,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"4YQ2OOQvBeYz","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":8,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"57adc7a0-6221-4ce9-85ce-82c0b29ad5f9"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["free                4\n","moderately free    56\n","mostly free        23\n","mostly unfree      65\n","repressed          28\n","NaN                21\n","Name: IoEF, dtype: int64"]},"metadata":{},"execution_count":117}],"source":["freedom.IoEF.value_counts(dropna=False).sort_index()"]},{"cell_type":"code","execution_count":118,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"gNY0xRphBeYz","executionInfo":{"status":"ok","timestamp":1707233952085,"user_tz":300,"elapsed":7,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"0da0bc1d-2aed-4287-e0ba-442df903b04a"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["difficult       42\n","good             8\n","problematic     59\n","satisfactory    44\n","very serious    31\n","NaN             13\n","Name: PFI, dtype: int64"]},"metadata":{},"execution_count":118}],"source":["freedom.PFI.value_counts(dropna=False).sort_index()"]},{"cell_type":"code","execution_count":119,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"1LRq6tDnBeYz","executionInfo":{"status":"ok","timestamp":1707233952481,"user_tz":300,"elapsed":402,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"7f78a4cf-cff1-4110-a66b-1719c6d8652c"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["authoritarian regime    57\n","flawed democracy        51\n","full democracy          23\n","hybrid regime           34\n","NaN                     32\n","Name: DI, dtype: int64"]},"metadata":{},"execution_count":119}],"source":["freedom.DI.value_counts(dropna=False).sort_index()"]},{"cell_type":"markdown","metadata":{"id":"WOGanU8dBeYz"},"source":["The categories are well written.\n","\n","Let's see the numeric columns. Let's identify cell that do not have numeric strings:\n"]},{"cell_type":"code","execution_count":120,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ua5Q4xwBBeYz","executionInfo":{"status":"ok","timestamp":1707233952482,"user_tz":300,"elapsed":9,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"7a4d4edc-72a6-4aeb-9e99-f7c6fa483387"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'—'}"]},"metadata":{},"execution_count":120}],"source":["set(freedom.FitW_score[~freedom.FitW_score.str.contains('^\\\\d+\\\\.*\\\\d*$')])"]},{"cell_type":"markdown","metadata":{"id":"yhcdRAjjBeYz"},"source":["Then, we can generalize:"]},{"cell_type":"code","execution_count":121,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"qdq52UVzBeY0","executionInfo":{"status":"ok","timestamp":1707233952482,"user_tz":300,"elapsed":8,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"8b47b095-08f7-4cdd-f501-facd933e2598"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['—']"]},"metadata":{},"execution_count":121}],"source":["badValues=[]\n","for col in acronyms_score:\n","    currentBad=freedom.loc[:,col][~freedom.loc[:,col].str.contains('^\\\\d+\\\\.*\\\\d*$')]\n","    badValues.extend(currentBad)\n","\n","badValues=list(set(badValues))\n","badValues"]},{"cell_type":"markdown","metadata":{"id":"qgua9r8fBeY0"},"source":["We will need to replace those values with a proper missing value:"]},{"cell_type":"code","execution_count":122,"metadata":{"id":"BdcV8K1dBeY0","executionInfo":{"status":"ok","timestamp":1707233952482,"user_tz":300,"elapsed":7,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}}},"outputs":[],"source":["import numpy as np\n","\n","freedom.replace(to_replace=badValues, value=np.nan,inplace=True)"]},{"cell_type":"code","execution_count":123,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"XPD4BYdtBeY0","executionInfo":{"status":"ok","timestamp":1707233952482,"user_tz":300,"elapsed":7,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"dcfbb543-57d5-437c-eb85-1ab8af130487"},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 197 entries, 0 to 196\n","Data columns (total 9 columns):\n"," #   Column      Non-Null Count  Dtype \n","---  ------      --------------  ----- \n"," 0   Country     197 non-null    object\n"," 1   FitW        196 non-null    object\n"," 2   FitW_score  196 non-null    object\n"," 3   IoEF        176 non-null    object\n"," 4   IoEF_score  176 non-null    object\n"," 5   PFI         184 non-null    object\n"," 6   PFI_score   184 non-null    object\n"," 7   DI          165 non-null    object\n"," 8   DI_score    165 non-null    object\n","dtypes: object(9)\n","memory usage: 14.0+ KB\n"]}],"source":["freedom.info()"]},{"cell_type":"markdown","metadata":{"id":"qQDdrRWMBeY0"},"source":["Let's keep the complete data:"]},{"cell_type":"code","execution_count":124,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":424},"id":"7seOXwpYBeY0","executionInfo":{"status":"ok","timestamp":1707233952482,"user_tz":300,"elapsed":6,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"28074ddd-5b08-496a-f2b1-f85e5cb5938d"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["          Country      FitW FitW_score         IoEF IoEF_score           PFI  \\\n","0          Norway      free        100  mostly free       76.9          good   \n","1         Ireland      free         97         free         82          good   \n","2          Sweden      free        100  mostly free       77.5          good   \n","3         Finland      free        100  mostly free       77.1          good   \n","4         Denmark      free         97  mostly free       77.6          good   \n","..            ...       ...        ...          ...        ...           ...   \n","183     Venezuela  not free         15    repressed       25.8  very serious   \n","185  Turkmenistan  not free          2    repressed       46.5  very serious   \n","186       Eritrea  not free          3    repressed       39.5  very serious   \n","187          Cuba  not free         12    repressed       24.3  very serious   \n","196   North Korea  not free          3    repressed        2.9  very serious   \n","\n","    PFI_score                    DI DI_score  \n","0       95.18        full democracy     9.81  \n","1       89.91        full democracy     9.05  \n","2       88.15        full democracy     9.26  \n","3       87.94        full democracy      9.2  \n","4       89.48        full democracy     9.15  \n","..        ...                   ...      ...  \n","183     36.99  authoritarian regime     2.76  \n","185     25.82  authoritarian regime     1.72  \n","186     27.86  authoritarian regime     2.15  \n","187        29  authoritarian regime     2.84  \n","196     21.72  authoritarian regime     1.08  \n","\n","[157 rows x 9 columns]"],"text/html":["\n","  <div id=\"df-4ff81acb-5c6f-4f3a-9da7-64773068c2df\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country</th>\n","      <th>FitW</th>\n","      <th>FitW_score</th>\n","      <th>IoEF</th>\n","      <th>IoEF_score</th>\n","      <th>PFI</th>\n","      <th>PFI_score</th>\n","      <th>DI</th>\n","      <th>DI_score</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Norway</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>76.9</td>\n","      <td>good</td>\n","      <td>95.18</td>\n","      <td>full democracy</td>\n","      <td>9.81</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Ireland</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>free</td>\n","      <td>82</td>\n","      <td>good</td>\n","      <td>89.91</td>\n","      <td>full democracy</td>\n","      <td>9.05</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Sweden</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.5</td>\n","      <td>good</td>\n","      <td>88.15</td>\n","      <td>full democracy</td>\n","      <td>9.26</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Finland</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.1</td>\n","      <td>good</td>\n","      <td>87.94</td>\n","      <td>full democracy</td>\n","      <td>9.2</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Denmark</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>mostly free</td>\n","      <td>77.6</td>\n","      <td>good</td>\n","      <td>89.48</td>\n","      <td>full democracy</td>\n","      <td>9.15</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>183</th>\n","      <td>Venezuela</td>\n","      <td>not free</td>\n","      <td>15</td>\n","      <td>repressed</td>\n","      <td>25.8</td>\n","      <td>very serious</td>\n","      <td>36.99</td>\n","      <td>authoritarian regime</td>\n","      <td>2.76</td>\n","    </tr>\n","    <tr>\n","      <th>185</th>\n","      <td>Turkmenistan</td>\n","      <td>not free</td>\n","      <td>2</td>\n","      <td>repressed</td>\n","      <td>46.5</td>\n","      <td>very serious</td>\n","      <td>25.82</td>\n","      <td>authoritarian regime</td>\n","      <td>1.72</td>\n","    </tr>\n","    <tr>\n","      <th>186</th>\n","      <td>Eritrea</td>\n","      <td>not free</td>\n","      <td>3</td>\n","      <td>repressed</td>\n","      <td>39.5</td>\n","      <td>very serious</td>\n","      <td>27.86</td>\n","      <td>authoritarian regime</td>\n","      <td>2.15</td>\n","    </tr>\n","    <tr>\n","      <th>187</th>\n","      <td>Cuba</td>\n","      <td>not free</td>\n","      <td>12</td>\n","      <td>repressed</td>\n","      <td>24.3</td>\n","      <td>very serious</td>\n","      <td>29</td>\n","      <td>authoritarian regime</td>\n","      <td>2.84</td>\n","    </tr>\n","    <tr>\n","      <th>196</th>\n","      <td>North Korea</td>\n","      <td>not free</td>\n","      <td>3</td>\n","      <td>repressed</td>\n","      <td>2.9</td>\n","      <td>very serious</td>\n","      <td>21.72</td>\n","      <td>authoritarian regime</td>\n","      <td>1.08</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>157 rows × 9 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4ff81acb-5c6f-4f3a-9da7-64773068c2df')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-4ff81acb-5c6f-4f3a-9da7-64773068c2df button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-4ff81acb-5c6f-4f3a-9da7-64773068c2df');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-82599ea2-f95d-48da-aed8-fc82a410090d\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-82599ea2-f95d-48da-aed8-fc82a410090d')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-82599ea2-f95d-48da-aed8-fc82a410090d button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":124}],"source":["freedom.dropna(how='any',axis=0,inplace=True # keep complete\n","               ) # reset index\n","\n","freedom"]},{"cell_type":"code","source":["freedom.reset_index(drop=True,inplace=True)\n","freedom"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":424},"id":"jKVSDzJ8E0HA","executionInfo":{"status":"ok","timestamp":1707234024434,"user_tz":300,"elapsed":382,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"52b65a4a-84d4-45d5-8799-b5a692c28eaf"},"execution_count":131,"outputs":[{"output_type":"execute_result","data":{"text/plain":["          Country      FitW FitW_score         IoEF IoEF_score           PFI  \\\n","0          NORWAY      free        100  mostly free       76.9          good   \n","1         IRELAND      free         97         free         82          good   \n","2          SWEDEN      free        100  mostly free       77.5          good   \n","3         FINLAND      free        100  mostly free       77.1          good   \n","4         DENMARK      free         97  mostly free       77.6          good   \n","..            ...       ...        ...          ...        ...           ...   \n","152     VENEZUELA  not free         15    repressed       25.8  very serious   \n","153  TURKMENISTAN  not free          2    repressed       46.5  very serious   \n","154       ERITREA  not free          3    repressed       39.5  very serious   \n","155          CUBA  not free         12    repressed       24.3  very serious   \n","156   NORTH KOREA  not free          3    repressed        2.9  very serious   \n","\n","    PFI_score                    DI DI_score  \n","0       95.18        full democracy     9.81  \n","1       89.91        full democracy     9.05  \n","2       88.15        full democracy     9.26  \n","3       87.94        full democracy      9.2  \n","4       89.48        full democracy     9.15  \n","..        ...                   ...      ...  \n","152     36.99  authoritarian regime     2.76  \n","153     25.82  authoritarian regime     1.72  \n","154     27.86  authoritarian regime     2.15  \n","155        29  authoritarian regime     2.84  \n","156     21.72  authoritarian regime     1.08  \n","\n","[157 rows x 9 columns]"],"text/html":["\n","  <div id=\"df-118e2d08-59ec-433b-9aab-3d6a33df87df\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country</th>\n","      <th>FitW</th>\n","      <th>FitW_score</th>\n","      <th>IoEF</th>\n","      <th>IoEF_score</th>\n","      <th>PFI</th>\n","      <th>PFI_score</th>\n","      <th>DI</th>\n","      <th>DI_score</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>NORWAY</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>76.9</td>\n","      <td>good</td>\n","      <td>95.18</td>\n","      <td>full democracy</td>\n","      <td>9.81</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>IRELAND</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>free</td>\n","      <td>82</td>\n","      <td>good</td>\n","      <td>89.91</td>\n","      <td>full democracy</td>\n","      <td>9.05</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>SWEDEN</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.5</td>\n","      <td>good</td>\n","      <td>88.15</td>\n","      <td>full democracy</td>\n","      <td>9.26</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>FINLAND</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.1</td>\n","      <td>good</td>\n","      <td>87.94</td>\n","      <td>full democracy</td>\n","      <td>9.2</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>DENMARK</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>mostly free</td>\n","      <td>77.6</td>\n","      <td>good</td>\n","      <td>89.48</td>\n","      <td>full democracy</td>\n","      <td>9.15</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>152</th>\n","      <td>VENEZUELA</td>\n","      <td>not free</td>\n","      <td>15</td>\n","      <td>repressed</td>\n","      <td>25.8</td>\n","      <td>very serious</td>\n","      <td>36.99</td>\n","      <td>authoritarian regime</td>\n","      <td>2.76</td>\n","    </tr>\n","    <tr>\n","      <th>153</th>\n","      <td>TURKMENISTAN</td>\n","      <td>not free</td>\n","      <td>2</td>\n","      <td>repressed</td>\n","      <td>46.5</td>\n","      <td>very serious</td>\n","      <td>25.82</td>\n","      <td>authoritarian regime</td>\n","      <td>1.72</td>\n","    </tr>\n","    <tr>\n","      <th>154</th>\n","      <td>ERITREA</td>\n","      <td>not free</td>\n","      <td>3</td>\n","      <td>repressed</td>\n","      <td>39.5</td>\n","      <td>very serious</td>\n","      <td>27.86</td>\n","      <td>authoritarian regime</td>\n","      <td>2.15</td>\n","    </tr>\n","    <tr>\n","      <th>155</th>\n","      <td>CUBA</td>\n","      <td>not free</td>\n","      <td>12</td>\n","      <td>repressed</td>\n","      <td>24.3</td>\n","      <td>very serious</td>\n","      <td>29</td>\n","      <td>authoritarian regime</td>\n","      <td>2.84</td>\n","    </tr>\n","    <tr>\n","      <th>156</th>\n","      <td>NORTH KOREA</td>\n","      <td>not free</td>\n","      <td>3</td>\n","      <td>repressed</td>\n","      <td>2.9</td>\n","      <td>very serious</td>\n","      <td>21.72</td>\n","      <td>authoritarian regime</td>\n","      <td>1.08</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>157 rows × 9 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-118e2d08-59ec-433b-9aab-3d6a33df87df')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-118e2d08-59ec-433b-9aab-3d6a33df87df button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-118e2d08-59ec-433b-9aab-3d6a33df87df');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-4ebaac03-f3fd-4349-a8e2-50648524bf45\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-4ebaac03-f3fd-4349-a8e2-50648524bf45')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-4ebaac03-f3fd-4349-a8e2-50648524bf45 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":131}]},{"cell_type":"markdown","metadata":{"id":"lcxp-N2SBeY0"},"source":["## 3. Check key column"]},{"cell_type":"code","execution_count":132,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"cG6tUMEUBeY0","executionInfo":{"status":"ok","timestamp":1707234051932,"user_tz":300,"elapsed":359,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"82c7a80e-c12f-42ef-c0f7-6bf5dc589509"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["0            NORWAY\n","1           IRELAND\n","2            SWEDEN\n","3           FINLAND\n","4           DENMARK\n","           ...     \n","152       VENEZUELA\n","153    TURKMENISTAN\n","154         ERITREA\n","155            CUBA\n","156     NORTH KOREA\n","Name: Country, Length: 157, dtype: object"]},"metadata":{},"execution_count":132}],"source":["freedom.Country"]},{"cell_type":"code","execution_count":133,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Kdct6O3KBeY0","executionInfo":{"status":"ok","timestamp":1707234054037,"user_tz":300,"elapsed":346,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"f064c4ab-2e68-48e5-dfbf-14b148125d1f"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["0            NORWAY\n","1           IRELAND\n","2            SWEDEN\n","3           FINLAND\n","4           DENMARK\n","           ...     \n","152       VENEZUELA\n","153    TURKMENISTAN\n","154         ERITREA\n","155            CUBA\n","156     NORTH KOREA\n","Name: Country, Length: 157, dtype: object"]},"metadata":{},"execution_count":133}],"source":["# to upper case and no trailing or leading spaces\n","freedom.Country.str.upper().str.strip()"]},{"cell_type":"code","execution_count":134,"metadata":{"id":"3Jy3JkGGBeY0","executionInfo":{"status":"ok","timestamp":1707234056740,"user_tz":300,"elapsed":336,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}}},"outputs":[],"source":["freedom['Country']=freedom.Country.str.upper().str.strip()"]},{"cell_type":"markdown","metadata":{"id":"icHwHAJ7BeY1"},"source":["## 4. Save output"]},{"cell_type":"code","execution_count":129,"metadata":{"id":"IG_pYAJkBeY1","executionInfo":{"status":"ok","timestamp":1707233960106,"user_tz":300,"elapsed":2,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}}},"outputs":[],"source":["freedom.to_csv('freedom_Py.csv',index=False)"]},{"cell_type":"code","source":["freedom"],"metadata":{"id":"Ar-uNKRSFQm4","executionInfo":{"status":"ok","timestamp":1707234106710,"user_tz":300,"elapsed":3,"user":{"displayName":"LUIS ANGEL PALOMINO ROJAS","userId":"16176645292265156386"}},"outputId":"17103ebe-6e09-404b-fa4f-f1d6136da6b6","colab":{"base_uri":"https://localhost:8080/","height":424}},"execution_count":135,"outputs":[{"output_type":"execute_result","data":{"text/plain":["          Country      FitW FitW_score         IoEF IoEF_score           PFI  \\\n","0          NORWAY      free        100  mostly free       76.9          good   \n","1         IRELAND      free         97         free         82          good   \n","2          SWEDEN      free        100  mostly free       77.5          good   \n","3         FINLAND      free        100  mostly free       77.1          good   \n","4         DENMARK      free         97  mostly free       77.6          good   \n","..            ...       ...        ...          ...        ...           ...   \n","152     VENEZUELA  not free         15    repressed       25.8  very serious   \n","153  TURKMENISTAN  not free          2    repressed       46.5  very serious   \n","154       ERITREA  not free          3    repressed       39.5  very serious   \n","155          CUBA  not free         12    repressed       24.3  very serious   \n","156   NORTH KOREA  not free          3    repressed        2.9  very serious   \n","\n","    PFI_score                    DI DI_score  \n","0       95.18        full democracy     9.81  \n","1       89.91        full democracy     9.05  \n","2       88.15        full democracy     9.26  \n","3       87.94        full democracy      9.2  \n","4       89.48        full democracy     9.15  \n","..        ...                   ...      ...  \n","152     36.99  authoritarian regime     2.76  \n","153     25.82  authoritarian regime     1.72  \n","154     27.86  authoritarian regime     2.15  \n","155        29  authoritarian regime     2.84  \n","156     21.72  authoritarian regime     1.08  \n","\n","[157 rows x 9 columns]"],"text/html":["\n","  <div id=\"df-3009b6b6-2b0b-457a-8dd4-a808a415f028\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country</th>\n","      <th>FitW</th>\n","      <th>FitW_score</th>\n","      <th>IoEF</th>\n","      <th>IoEF_score</th>\n","      <th>PFI</th>\n","      <th>PFI_score</th>\n","      <th>DI</th>\n","      <th>DI_score</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>NORWAY</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>76.9</td>\n","      <td>good</td>\n","      <td>95.18</td>\n","      <td>full democracy</td>\n","      <td>9.81</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>IRELAND</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>free</td>\n","      <td>82</td>\n","      <td>good</td>\n","      <td>89.91</td>\n","      <td>full democracy</td>\n","      <td>9.05</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>SWEDEN</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.5</td>\n","      <td>good</td>\n","      <td>88.15</td>\n","      <td>full democracy</td>\n","      <td>9.26</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>FINLAND</td>\n","      <td>free</td>\n","      <td>100</td>\n","      <td>mostly free</td>\n","      <td>77.1</td>\n","      <td>good</td>\n","      <td>87.94</td>\n","      <td>full democracy</td>\n","      <td>9.2</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>DENMARK</td>\n","      <td>free</td>\n","      <td>97</td>\n","      <td>mostly free</td>\n","      <td>77.6</td>\n","      <td>good</td>\n","      <td>89.48</td>\n","      <td>full democracy</td>\n","      <td>9.15</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>152</th>\n","      <td>VENEZUELA</td>\n","      <td>not free</td>\n","      <td>15</td>\n","      <td>repressed</td>\n","      <td>25.8</td>\n","      <td>very serious</td>\n","      <td>36.99</td>\n","      <td>authoritarian regime</td>\n","      <td>2.76</td>\n","    </tr>\n","    <tr>\n","      <th>153</th>\n","      <td>TURKMENISTAN</td>\n","      <td>not free</td>\n","      <td>2</td>\n","      <td>repressed</td>\n","      <td>46.5</td>\n","      <td>very serious</td>\n","      <td>25.82</td>\n","      <td>authoritarian regime</td>\n","      <td>1.72</td>\n","    </tr>\n","    <tr>\n","      <th>154</th>\n","      <td>ERITREA</td>\n","      <td>not free</td>\n","      <td>3</td>\n","      <td>repressed</td>\n","      <td>39.5</td>\n","      <td>very serious</td>\n","      <td>27.86</td>\n","      <td>authoritarian regime</td>\n","      <td>2.15</td>\n","    </tr>\n","    <tr>\n","      <th>155</th>\n","      <td>CUBA</td>\n","      <td>not free</td>\n","      <td>12</td>\n","      <td>repressed</td>\n","      <td>24.3</td>\n","      <td>very serious</td>\n","      <td>29</td>\n","      <td>authoritarian regime</td>\n","      <td>2.84</td>\n","    </tr>\n","    <tr>\n","      <th>156</th>\n","      <td>NORTH KOREA</td>\n","      <td>not free</td>\n","      <td>3</td>\n","      <td>repressed</td>\n","      <td>2.9</td>\n","      <td>very serious</td>\n","      <td>21.72</td>\n","      <td>authoritarian regime</td>\n","      <td>1.08</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>157 rows × 9 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3009b6b6-2b0b-457a-8dd4-a808a415f028')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-3009b6b6-2b0b-457a-8dd4-a808a415f028 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3009b6b6-2b0b-457a-8dd4-a808a415f028');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-ebb0974b-a6a7-4f78-a82d-6069c8bcaffa\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-ebb0974b-a6a7-4f78-a82d-6069c8bcaffa')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-ebb0974b-a6a7-4f78-a82d-6069c8bcaffa button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":135}]}],"metadata":{"anaconda-cloud":{},"kernelspec":{"display_name":"Python 3 (ipykernel)","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.12.0"},"colab":{"provenance":[]}},"nbformat":4,"nbformat_minor":0}